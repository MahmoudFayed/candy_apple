# 文字列操作

この章では Ring の学習を諦めてしまう原因のひとつである文字列処理について詳しく解説していきます。

と言いますのも、Ring の設計思想の問題と実装上の制限(開発に使われていた PWCT 1.9 ではマルチバイト文字列が扱えなかったことと、C11ではなくC89規格で実装されていたため)から簡便なる方法で日本語などのマルチバイト文字列を操作する機能は標準で実装されていません。方法はあるのですが、公式マニュアルに記載されていない誰にも気付いてもらえないサンプルソースがあるだけの塩対応。ゆえに、多くの方が田舎の僻地に拉致されたような騙気分になり、ここで必ず挫折してしまうのはわかります。加えてQtや英文読解に関する知識や経験も必要なので、やはり初学者は挫折してしまうかと。

もったいないですね。

## 事前知識

Ring 本体だけでは英語以外では扱えません。ほかのプログラミング言語にあるような多言語処理に対応した機能が欠落しています。
そして、今後もこのような機能を実装することはないでしょう。

ではどうするかと言うと、公式には、

* RingQt (Qt 拡張機能)
* RingAllegro (Allegro 拡張機能)

を使うことになります。ただ、この方法には欠点があります。

* フットプリントが大きい。
* Allegro 以外のゲームフレームワークを使おうとすると多言語処理ができなくなる。
* ほかのプログラミング言語と比較してソースコードのステップ数が増える。
* 直交性の低下。
* Qt はライセンス上の問題で商用で扱いづらい(ソースコードを公開したくなければ商用ライセンスを購入する必要あり)。

そのため、これらの制限を回避するために、

* 外部コマンドで多言語処理対応の処理系を呼び出す (処理速度はかなり遅い)。
* Ring の組み込み関数や拡張機能を開発する (C/C++ に関する知識や経験が必要なため中上級者向け)。
* 多言語処理用のサーバを開発して TCP/IP で通信させる (処理速度は共有ライブラリと比べて遅いが実装難易度は低い)。

といった方法はあるものの、どれも決め手に欠ける点があります。やはり、ネイティブ実装にしたほうが利便性がよいと考えられますが、無駄を嫌うようなので仕方ないところです。

## 目次 (文字列処理)

* RingQt
* 基本概念
  * QChar
  * QString
  * QStringRef
  * QTextStream
  * QRegExp
* 使用方法
  * 宣言と定義
  * リテラル
  * 全長の取得
  * 挿入
  * 複写
  * 削除
  * 比較
  * 反復
  * 表示
  * 検索
  * 抽出
  * 分割
  * 置換
  * 連結
  * 余白の削除
  * 整列・並び替え
  * 反転
  * 書式付き変換
  * 形変換
  * 数値と文字の関係
  * 整形
  * コードポイント
  * 正規表現
  * 全角・半角の変換
  * ひらがな・カタカナの変換
  * ローマ数字・漢数字の変換
  * 西暦・和暦の変換
  * 文字コードの変換
  * 文字コードの判定
  * Base64 のエンコードとデコード
  * JSON の解析処理
  * XML の解析
  * TSV の解析
  * CSV の解析
  * 編集距離
  * エスケープ処理
  * エスケープシーケンス
  * 作例
    * 連番作成ツール
    * 単語の頻度表
    * 文字数・行数の計測
    * 禁則処理
    * ファイル形式変換ツール
    * テキスト整形ツール
    * 簡易マークアップ言語
    * シーザー暗号
    * 万年カレンダ
    * マイクロブログ
    * デジタル時計
    * 単位変換ツール
    * データベース
    * 住所録
    * 電話帳
    * アイコンエディタ (xpm形式)
    * スプレッドシート
    * 電卓
    * ファイルマネージャ
    * ファイルダンプツール
    * クイズゲーム
    * 花札
    * 野球盤
    * ソーシャルゲーム
    * ポーカー
    * ブラックジャック
    * 五目並べ
    * アスキーアートエディタ
    * マルバツゲーム
    * ライフゲーム
    * 文字コード表
    * 野球券(全年齢版)
    * スロットマシン
    * サイコロ
    * テキストウィンドウシステム
    * フルスクリーンワードプロセッサ(OmmWriter風)
    * カード型データベース
    * クラスライブラリ
    * パズル
  * 続く...
* RingDuktape (欠番)
* Ring カスタムビルド (欠番)
* 低水準文字列処理(メモリの直接走査)
* 参考文献

# 備考

本章では重点的に文字列処理について扱いますが、すべて一気に取り組む必要はありません。逆引き辞典としてお使いいただければ幸いです。
